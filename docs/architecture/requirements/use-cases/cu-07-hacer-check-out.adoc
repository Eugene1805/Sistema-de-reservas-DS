== CU-07 Hacer check-out

|===
| ID | CU-07
| Nombre | Hacer Check-out
| Autor | Erickmel Vázquez López
| Fecha de actualización | 02 de octubre de 2025
| Descripción | El recepcionista realiza el check-out en el sistema para un huésped que +
está finalizando su estancia.
| Actor(es) | Recepcionista
| Disparador | Recepcionista da clic en la opción de "Hacer check-out de huésped".
| Precondiciones | PRE-01.- El huésped debe tener una estancia activa en el sistema. +
PRE-02.- La fecha actual debe coincidir con la fecha de salida registrada en la estancia. +
PRE-03.- El huésped debe tener pagados todos sus consumos adicionales, en caso contrario, +
el sistema solicitará liquidarlos antes del check-out.
| Flujo normal |
1.- El sistema muestra la ventana "Check-out" con una barra de búsqueda para ingresar los datos +
del huésped. +
2.- El sistema muestra los botones "Buscar" y "Salir". +
3.- El recepcionista ingresa los datos del huésped asociados a su estancia. +
4.- El recepcionista da clic en "Buscar". (FA-01) (FA-02) +
5.- El sistema recupera en la ventana la información de la estancia activa del huésped. (EX-01) +
6.- El recepcionista selecciona la estancia activa. +
7.- El sistema muestra los datos del huésped, la habitación asignada y el detalle de consumos. +
8.- El sistema muestra los botones "Hacer check-out" y "Cancelar". +
9.- El recepcionista da clic en "Hacer check-out". (FA-01) (FA-03) +
10.- El sistema valida que no existan consumos pendientes de pago. (EX-02) +
11.- El sistema libera la habitación en el mapa de habitaciones. +
12.- El sistema marca la estancia como finalizada. +
13.- El sistema muestra un mensaje de confirmación: "Check-out realizado con éxito". +
14.- El sistema muestra el botón "Aceptar". +
15.- El recepcionista da clic en "Aceptar". +
16.- El sistema devuelve al recepcionista a la ventana de "Check-out". +
17.- Termina el Caso de Uso.
| Flujos alternos |
FA-01. El recepcionista da clic en "Salir". +
    1.- El recepcionista da clic en el botón "Salir". +
    2.- El sistema regresa al usuario a la ventana principal. +
    3.- Termina Caso de Uso.
FA-02. Datos inválidos en la búsqueda. +
    1.- El sistema valida los datos ingresados. +
    2.- El sistema muestra el mensaje "Datos inválidos. Por favor, inténtalo de nuevo.". +
    3.- El sistema muestra el botón "Aceptar". +
    4.- El recepcionista da clic en "Aceptar". +
    5.- El sistema limpia la barra de búsqueda. +
    6.- Termina Caso de Uso.
FA-03. El recepcionista da clic en "Cancelar". +
    1.- El recepcionista da clic en el botón "Cancelar". +
    2.- El sistema regresa al usuario a la ventana "Check-out". +
    3.- Termina Caso de Uso.
| Excepciones |
EX-01. No hay conexión con la base de datos. +
    1.- El sistema muestra el mensaje "No hay conexión con la base de datos, inténtelo más tarde." +
    2.- El sistema muestra el botón "Aceptar". +
    3.- El recepcionista da clic en "Aceptar". +
    4.- El sistema regresa al usuario a la ventana "Check-out". +
EX-02. Consumos pendientes de pago. +
    1.- El sistema muestra un mensaje "Existen consumos pendientes. Deben liquidarse antes de hacer el check-out". +
    2.- El sistema muestra el botón "Aceptar". +
    3.- El recepcionista da clic en "Aceptar". +
    4.- El sistema regresa al detalle de la estancia para permitir registrar el pago. +
| Postcondiciones | 
POST-01.- La habitación asignada queda liberada y disponible para futuras reservaciones. +
POST-02.- La estancia del huésped se marca como finalizada en el sistema.
| Reglas de negocio |
RN-01.- No se puede realizar un check-out si el huésped tiene consumos pendientes de pago. +
RN-02.- Una vez liberada la habitación, esta se vuelve a incluir en el inventario disponible. +
|===
